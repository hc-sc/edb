<div class='main-layout'>
<toolbar items='$ctrl.toolbarItems'></toolbar>
<section class='flex' layout-padding>
  <tbl-new
    title='Dossiers'
    items='$ctrl.dossiers'
    projection='$ctrl.dossierProjection'
    default-sort='_lastMod'
    default-reverse='true'
    on-select='$ctrl.selectDossier(id, index)'
    on-add='$ctrl.newDossier()'
    on-delete='$ctrl.deleteDossier(index)'
    on-edit='$ctrl.editDossier(index)'
    editable='true'
    viewable='false'
    deletable='true'
  ></tbl-new>
  <p ng-if='!$ctrl.hasSelection'>Select a dossier to review submissions</p>
  <tbl-new
    title='Submissions'
    ng-if='$ctrl.hasSelection'
    items='$ctrl.submissions'
    projection='$ctrl.submissionProjection'
    default-sort='submissionnumber'
    default-reverse='false'
    on-select='$ctrl.selectSubmission(id, index)'
    on-add='$ctrl.newSubmission()'
    on-delete='$ctrl.deleteSubmission(index)'
    on-view='$ctrl.viewSubmission(index)'
    on-edit='$ctrl.editSubmission(index)'
    deletable='true'
    viewable='true'
    editable='true'
  ></tbl-new>
</section>
</div>