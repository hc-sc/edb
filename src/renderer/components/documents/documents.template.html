<section class='node-page'>

  <spinner ng-if='$ctrl.loading'></spinner>
  <div class='no-margin no-padding' ng-if='!ctrl.loading'>
        <sidenav items='$ctrl.records' 
                  selected='$ctrl.selected'
                  main='documentgeneric.documenttitle' 
                  is-open='$ctrl.sidenavOpen' 
                  on-select='$ctrl.updateSelected(item)'
                  on-add='$ctrl.add(item)'>
        </sidenav>
        
        <div class='extension-wrapper'>
            <text-input label='{{"documentpid" | translate}}' 
                  is-required='true'  
                  text-value='$ctrl.selected.documentgeneric.documentpid' 
                  on-update='$ctrl.update("documentgeneric.documentpid", value)'>
            </text-input>
             <md-button class='md-raised md-primary' ng-click='$ctrl.genPid()'>Generate PID</md-button>
        </div>

       
        <div class='extension-wrapper'>
            <text-input label='{{"documentfamilypid" | translate}}' 
                  is-required='true'  
                  text-value='$ctrl.selected.documentgeneric.documentfamilypid' 
                  on-update='$ctrl.update("documentgeneric.documentfamilypid", value)'>
            </text-input>
             <md-button class='md-raised md-primary' ng-click='$ctrl.genFamilyPid()'>Generate PID</md-button>
        </div>
        
         <text-input label='{{"documentfamily" | translate}}'
            is-required='true'
            text-value='$ctrl.selected.documentgeneric.documentfamily'
            on-update='$ctrl.update("documentgeneric.documentfamily", value)'>
        </text-input>
        
        <tbl ng-if='!$ctrl.loading' title ='{{"contentstatushistory" | translate}}' 
                
              items='$ctrl.selected.documentgeneric.contentstatushistory' 
              projection='$ctrl.contentStatusProjection' 
              on-select='$ctrl.selectTblItem("documentgeneric.contentstatushistory",index)' 
              on-add='$ctrl.addTblItem("documentgeneric.contentstatushistory")' 
              on-delete='$ctrl.deleteTblItem("documentgeneric.contentstatushistory",index)'>
        </tbl>
      
       <tbl ng-if='!$ctrl.loading' title ='{{"referenceddocument" | translate}}'
 
              items='$ctrl.selected.documentgeneric.referenceddocument'  
              projection='$ctrl.referencedDocumentProjection'
              on-select='$ctrl.selectTblItem("documentgeneric.referenceddocument",index)' 
              on-add='$ctrl.addTblItem("documentgeneric.referenceddocument")' 
              on-delete='$ctrl.deleteTblItem("documentgeneric.referenceddocument",index)'>
        </tbl>


        <tbl ng-if='!$ctrl.loading' title ='{{"relatedtosubstance" | translate}}'
 
              items='$ctrl.selected.documentgeneric.relatedtosubstance'  
              projection='[{name: "toSubstanceId", url: "substance"}]' 
              on-select='$ctrl.selectTblItem("documentgeneric.relatedtosubstance",index)' 
              on-add='$ctrl.addTblItem("documentgeneric.relatedtosubstance")' 
              on-delete='$ctrl.deleteTblItem("documentgeneric.relatedtosubstance",index)'>
        </tbl>

        <tbl ng-if='!$ctrl.loading' title ='{{"documentnumber" | translate}}'
              items='$ctrl.selected.documentgeneric.documentnumber'  
              projection='$ctrl.documentnumberProjection'
              on-select='$ctrl.selectTblItem("documentgeneric.documentnumber",index)' 
              on-add='$ctrl.addTblItem("documentgeneric.documentnumber")' 
              on-delete='$ctrl.deleteTblItem("documentgeneric.documentnumber",index)'>
        </tbl>

        <text-input label='{{"documenttitle" | translate}}' 
            is-required='true'
            text-value='$ctrl.selected.documentgeneric.documenttitle'
            on-update='$ctrl.update("documentgeneric.documenttitle", value)'>
        </text-input>

        <text-input label='{{"documentauthor" | translate}}' 
            is-required='true'
            text-value='$ctrl.selected.documentgeneric.documentauthor'
            on-update='$ctrl.update("documentgeneric.documentauthor", value)'>
        </text-input>

        <text-input label='{{"documentissuedate" | translate}}'
            is-required='true'
            text-value='$ctrl.selected.documentgeneric.documentissuedate' 
            is-required='true' 
            max-length='30' 
            on-update='$ctrl.update("documentgeneric.documentissuedate", value)'>
        </text-input>
      
        <list label='{{"documentowner" | translate}}' items='$ctrl.selected.documentgeneric.documentowner' ></list>

        <text-input label='{{"publishedindicator" | translate}}'
            is-required='true'
            text-value='$ctrl.selected.documentgeneric.publishedindicator'
            on-update='$ctrl.update("documentgeneric.publishedindicator", value)'>
        </text-input>

         <text-input label='{{"completedocumentsource" | translate}}' 
            is-required='true'
            text-value='$ctrl.selected.documentgeneric.completedocumentsource'
            on-update='$ctrl.update("documentgeneric.completedocumentsource", value)'>
        </text-input>

         <list label='{{"testlaboratory" | translate}}'
                 items='$ctrl.selected.documentgeneric.testlaboratory' >
        </list>


        <md-switch ng-model='$ctrl.selected.documentgeneric.gxpindicator' 
                    aria-label='{{"gxpindicator" | translate}}' 
                    class='md-primary' 
                    ng-change='$ctrl.printValue()'>
            {{"gxpindicator" | translate}}
        </md-switch>

        <md-switch ng-model='$ctrl.submission.SUBMISSION[$ctrl.submission.SUBMISSION.length - 1].INCREMENTAL' 
                    aria-label='{{"testedonvertebrate" | translate}}'
                    class='md-primary' 
                    ng-change='$ctrl.printValue()'>
                    {{"testedonvertebrate" | translate}}
        </md-switch>
      

        <tbl ng-if='!$ctrl.loading' title ='{{"referencedtofile" | translate}}'
 
              items='$ctrl.selected.documentgeneric.referencedtofile'  
              projection='[{name: "toFileId", url: "file"}]' 
              on-select='$ctrl.selectTblItem("documentgeneric.referencedtofile",index)' 
              on-add='$ctrl.addTblItem("documentgeneric.referencedtofile")' 
              on-delete='$ctrl.deleteTblItem("documentgeneric.referencedtofile",index)'>
        </tbl>

       <tbl ng-if='!$ctrl.loading' 
            title ='{{"documentra" | translate}}' 
            items='$ctrl.selected.documentra' 
            projection='[{name: "toSpecificForRAId", url: "receiver"}]'
            on-select='$ctrl.selectTblItem("documentra",index)' 
            on-delete='$ctrl.deleteTblItem("documentra",index)' 
            on-add='$ctrl.addTblItem("documentra")'>
       </tbl>
        
        <div style='z-index:100' class='float-bottom'>
            <md-button aria-label='Save' class='md-fab md-primary' ng-click='$ctrl.save()'>
            <md-icon md-svg-icon='save' class='light'></md-icon>
            </md-button>
            <md-button aria-label='Add New Item' class='md-fab md-primary' ng-click='$ctrl.add("document")'>
            <md-icon md-svg-icon='add' class='light'></md-icon>
            </md-button>
            <md-button aria-label='Toggle List' class='md-fab md-primary' ng-click='$ctrl.toggleList()'>
            <md-icon md-svg-icon='list' class='light'></md-icon>
            </md-button>
        </div>
  </div>
</section>